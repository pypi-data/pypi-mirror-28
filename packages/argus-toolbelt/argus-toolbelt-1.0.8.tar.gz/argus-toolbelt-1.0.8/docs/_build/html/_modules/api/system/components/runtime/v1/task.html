
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>api.system.components.runtime.v1.task &#8212; Argus-Toolbelt 1.0 documentation</title>
    <link rel="stylesheet" href="../../../../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for api.system.components.runtime.v1.task</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Autogenerated API&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">argus_cli.plugin</span> <span class="k">import</span> <span class="n">register_command</span>


<div class="viewcode-block" id="list_tasks"><a class="viewcode-back" href="../../../../../../api/api.system.components.runtime.v1.html#api.system.components.runtime.v1.task.list_tasks">[docs]</a><span class="nd">@register_command</span><span class="p">(</span><span class="n">extending</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;system&#39;</span><span class="p">,</span><span class="s1">&#39;components&#39;</span><span class="p">,</span><span class="s1">&#39;runtime&#39;</span><span class="p">,</span><span class="s1">&#39;v1&#39;</span><span class="p">,</span><span class="s1">&#39;task&#39;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">list_tasks</span><span class="p">(</span><span class="n">json</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">verify</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">apiKey</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">authentication</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{})</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;List current tasks for currentuser (INTERNAL)</span>

<span class="sd">    </span>

<span class="sd">    :raises AuthenticationFailedException: on 401</span>
<span class="sd">    :raises AccessDeniedException: on 403</span>
<span class="sd">    :returns: {&quot;offset&quot;: 557, &quot;limit&quot;: 845, &quot;responseCode&quot;: 200, &quot;count&quot;: 542, &quot;data&quot;: [{&quot;id&quot;: &quot;At bag lose could.&quot;, &quot;state&quot;: &quot;DONE&quot;, &quot;method&quot;: &quot;Black position they number down.&quot;, &quot;arguments&quot;: [{}], &quot;result&quot;: {}, &quot;started&quot;: 527, &quot;finished&quot;: 272, &quot;children&quot;: [{&quot;id&quot;: &quot;Drop service concern can.&quot;, &quot;state&quot;: &quot;EXCEPTION&quot;, &quot;method&quot;: &quot;Question poor rich give method choose.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 549, &quot;finished&quot;: 730, &quot;children&quot;: [{&quot;id&quot;: &quot;Yeah effect month industry look popular.&quot;, &quot;state&quot;: &quot;RUNNING&quot;, &quot;method&quot;: &quot;Sister book soldier without.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 306, &quot;finished&quot;: 272, &quot;children&quot;: [{&quot;id&quot;: &quot;Both easy money.&quot;, &quot;state&quot;: &quot;RUNNING&quot;, &quot;method&quot;: &quot;Hospital full something minute data.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 282, &quot;finished&quot;: 58, &quot;children&quot;: [{&quot;id&quot;: &quot;Cover however within day.&quot;, &quot;state&quot;: &quot;EXCEPTION&quot;, &quot;method&quot;: &quot;Well network half within.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 707, &quot;finished&quot;: 930, &quot;children&quot;: [{&quot;id&quot;: &quot;Somebody wish race significant.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Lay mission bag actually form expert.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 623, &quot;finished&quot;: 693, &quot;children&quot;: [{&quot;id&quot;: &quot;Pass car yard area summer level.&quot;, &quot;state&quot;: &quot;EXCEPTION&quot;, &quot;method&quot;: &quot;Four Mr win example.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 732, &quot;finished&quot;: 338, &quot;children&quot;: [{&quot;id&quot;: &quot;Million happen interesting six surface per.&quot;, &quot;state&quot;: &quot;EXCEPTION&quot;, &quot;method&quot;: &quot;Hour meet environment.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 677, &quot;finished&quot;: 138, &quot;children&quot;: [{&quot;id&quot;: &quot;Once direction travel thank.&quot;, &quot;state&quot;: &quot;RUNNING&quot;, &quot;method&quot;: &quot;Or rate policy find get interesting staff perhaps.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 666, &quot;finished&quot;: 749, &quot;children&quot;: [{&quot;id&quot;: &quot;Green hand garden back away discussion yourself.&quot;, &quot;state&quot;: &quot;EXCEPTION&quot;, &quot;method&quot;: &quot;Try page staff social figure free.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 509, &quot;finished&quot;: 687, &quot;children&quot;: [{&quot;id&quot;: &quot;Everything according month traditional push.&quot;, &quot;state&quot;: &quot;EXCEPTION&quot;, &quot;method&quot;: &quot;Skill clearly yeah support big study.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 19, &quot;finished&quot;: 900, &quot;children&quot;: [{&quot;id&quot;: &quot;Interview son why more mission yes not environmental.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Become pattern itself particularly wide someone.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 270, &quot;finished&quot;: 547, &quot;children&quot;: [{&quot;id&quot;: &quot;White section fly meet best.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Poor key teacher simple.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 558, &quot;finished&quot;: 783, &quot;children&quot;: [{&quot;id&quot;: &quot;Government picture certain assume several.&quot;, &quot;state&quot;: &quot;DONE&quot;, &quot;method&quot;: &quot;Local moment as true person discuss contain unit.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 984, &quot;finished&quot;: 205, &quot;children&quot;: [{&quot;id&quot;: &quot;Article list book tax wall leave other.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;It manage power practice Mr however top green.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 941, &quot;finished&quot;: 952, &quot;children&quot;: [{&quot;id&quot;: &quot;Free partner fall mean soon hair way.&quot;, &quot;state&quot;: &quot;RUNNING&quot;, &quot;method&quot;: &quot;Level kid lay early argue fight thousand.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 756, &quot;finished&quot;: 258, &quot;children&quot;: [{&quot;id&quot;: &quot;Smile than source recent mother fish gas.&quot;, &quot;state&quot;: &quot;RUNNING&quot;, &quot;method&quot;: &quot;Catch force though reason.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 881, &quot;finished&quot;: 960, &quot;children&quot;: [{&quot;id&quot;: &quot;Bit ability value brother ahead health fund.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Fill financial ball.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 930, &quot;finished&quot;: 219, &quot;children&quot;: [{&quot;id&quot;: &quot;Site law production by somebody again treatment.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Show serious man reflect coach customer notice.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 72, &quot;finished&quot;: 205, &quot;children&quot;: [{&quot;id&quot;: &quot;Paper forget child song evidence.&quot;, &quot;state&quot;: &quot;DONE&quot;, &quot;method&quot;: &quot;Risk travel up live head.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 412, &quot;finished&quot;: 444, &quot;children&quot;: [{&quot;id&quot;: &quot;Stuff clear speak challenge enough.&quot;, &quot;state&quot;: &quot;EXCEPTION&quot;, &quot;method&quot;: &quot;Letter watch product move member become.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 659, &quot;finished&quot;: 511, &quot;children&quot;: [{&quot;id&quot;: &quot;Worry impact door court hospital network more.&quot;, &quot;state&quot;: &quot;RUNNING&quot;, &quot;method&quot;: &quot;Friend drug like employee enter spring tax.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 582, &quot;finished&quot;: 405, &quot;children&quot;: [{&quot;id&quot;: &quot;Interesting that establish.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;None whole them example.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 36, &quot;finished&quot;: 372, &quot;children&quot;: [{&quot;id&quot;: &quot;No still send marriage.&quot;, &quot;state&quot;: &quot;RUNNING&quot;, &quot;method&quot;: &quot;Soon feel change beat close trip ground dream.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 212, &quot;finished&quot;: 437, &quot;children&quot;: [{&quot;id&quot;: &quot;Act leader cold often far behavior determine color.&quot;, &quot;state&quot;: &quot;RUNNING&quot;, &quot;method&quot;: &quot;These ready Congress community.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 911, &quot;finished&quot;: 473, &quot;children&quot;: [{&quot;id&quot;: &quot;Century they break marriage short wear.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Attorney music main write you.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 568, &quot;finished&quot;: 925, &quot;children&quot;: [{&quot;id&quot;: &quot;Professional major north old world production.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Easy discussion bag past as street.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 279, &quot;finished&quot;: 942, &quot;children&quot;: [{&quot;id&quot;: &quot;Realize change involve lead concern.&quot;, &quot;state&quot;: &quot;RUNNING&quot;, &quot;method&quot;: &quot;Democrat style manage cup.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 501, &quot;finished&quot;: 726, &quot;children&quot;: [{&quot;id&quot;: &quot;Society open position.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Fast return time serve.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 539, &quot;finished&quot;: 724, &quot;children&quot;: [{&quot;id&quot;: &quot;Say Congress cause thought.&quot;, &quot;state&quot;: &quot;RUNNING&quot;, &quot;method&quot;: &quot;Foreign company realize everyone site two about provide.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 402, &quot;finished&quot;: 138, &quot;children&quot;: [{&quot;id&quot;: &quot;Daughter building our shoulder fight pass.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;What picture table music.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 80, &quot;finished&quot;: 224, &quot;children&quot;: [{&quot;id&quot;: &quot;For expect soldier institution run.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Strategy represent full put mind pretty.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 343, &quot;finished&quot;: 35, &quot;children&quot;: [{&quot;id&quot;: &quot;Many ground impact cost third benefit account.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;All whether so hospital good heart.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 613, &quot;finished&quot;: 234, &quot;children&quot;: [{&quot;id&quot;: &quot;Cup allow major choice any include.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Boy sort modern moment should employee.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 617, &quot;finished&quot;: 185, &quot;children&quot;: [{&quot;id&quot;: &quot;Serious agree design country could ten.&quot;, &quot;state&quot;: &quot;EXCEPTION&quot;, &quot;method&quot;: &quot;Hundred three baby pattern break.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 873, &quot;finished&quot;: 90, &quot;children&quot;: [{&quot;id&quot;: &quot;Require another father.&quot;, &quot;state&quot;: &quot;DONE&quot;, &quot;method&quot;: &quot;Ball likely reason receive whatever whatever civil.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 269, &quot;finished&quot;: 417, &quot;children&quot;: [{&quot;id&quot;: &quot;Expert try continue senior any worker recent would.&quot;, &quot;state&quot;: &quot;EXCEPTION&quot;, &quot;method&quot;: &quot;Senior ground significant to.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 480, &quot;finished&quot;: 278, &quot;children&quot;: [{&quot;id&quot;: &quot;Professor build seek vote.&quot;, &quot;state&quot;: &quot;DONE&quot;, &quot;method&quot;: &quot;Employee describe figure stock.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 651, &quot;finished&quot;: 681, &quot;children&quot;: [{&quot;id&quot;: &quot;Really who ago care miss.&quot;, &quot;state&quot;: &quot;DONE&quot;, &quot;method&quot;: &quot;Fund special environmental new.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 65, &quot;finished&quot;: 956, &quot;children&quot;: [{&quot;id&quot;: &quot;Nature land operation receive.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Result spring thank well minute.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 409, &quot;finished&quot;: 965, &quot;children&quot;: [{&quot;id&quot;: &quot;Together able song may.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;To perform win Congress consider health.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 18, &quot;finished&quot;: 421, &quot;children&quot;: [{&quot;id&quot;: &quot;After usually foot when.&quot;, &quot;state&quot;: &quot;EXCEPTION&quot;, &quot;method&quot;: &quot;Continue inside student impact certain upon.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 434, &quot;finished&quot;: 84, &quot;children&quot;: [{&quot;id&quot;: &quot;Money dark bank resource.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Hear market ahead push nation.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 229, &quot;finished&quot;: 587, &quot;children&quot;: [{&quot;id&quot;: &quot;Job can truth mission must recognize create.&quot;, &quot;state&quot;: &quot;DONE&quot;, &quot;method&quot;: &quot;Yeah only if.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 421, &quot;finished&quot;: 705, &quot;children&quot;: [{&quot;id&quot;: &quot;Must rule sport discuss save organization range.&quot;, &quot;state&quot;: &quot;EXCEPTION&quot;, &quot;method&quot;: &quot;Other study stand society fund candidate quickly.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 719, &quot;finished&quot;: 917, &quot;children&quot;: [{&quot;id&quot;: &quot;Total raise particular nearly individual seem pattern.&quot;, &quot;state&quot;: &quot;EXCEPTION&quot;, &quot;method&quot;: &quot;Theory despite nothing well well do newspaper expect.&quot;, &quot;arguments&quot;: [{}], &quot;started&quot;: 269, &quot;finished&quot;: 289, &quot;children&quot;: [{&quot;id&quot;: &quot;Tell large small appear.&quot;, &quot;state&quot;: &quot;TIMEOUT&quot;, &quot;method&quot;: &quot;Specific painting source get party.&quot;, &quot;arguments&quot;: [&quot;Edge try hair example.&quot;], &quot;started&quot;: 425, &quot;finished&quot;: 448, &quot;children&quot;: [{&quot;id&quot;: &quot;Expect statement ago sure.&quot;, &quot;state&quot;: &quot;Move bed different best attorney.&quot;, &quot;method&quot;: &quot;Whose improve action better federal present.&quot;, &quot;arguments&quot;: {&quot;items&quot;: &quot;Cut total visit certainly dream home give.&quot;}, &quot;started&quot;: &quot;Land step here what series each describe.&quot;, &quot;finished&quot;: &quot;Daughter sing which power article.&quot;, &quot;children&quot;: {&quot;items&quot;: &quot;Check health view close middle window.&quot;}}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}], &quot;metaData&quot;: {&quot;additionalProperties&quot;: {}}, &quot;messages&quot;: [{&quot;message&quot;: &quot;Carry land unit.&quot;, &quot;messageTemplate&quot;: &quot;Act walk protect commercial run protect.&quot;, &quot;field&quot;: &quot;Fire executive generation.&quot;, &quot;parameter&quot;: {}, &quot;timestamp&quot;: 34238899}], &quot;currentPage&quot;: 147, &quot;size&quot;: 101} </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">requests</span> <span class="k">import</span> <span class="n">get</span>
    <span class="kn">from</span> <span class="nn">argus_api.exceptions</span> <span class="k">import</span> <span class="n">http</span>

    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://osl-argus-trunk-web1.mnemonic.no/web/api/system/components/runtime/v1/task&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">()</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
        <span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;ArgusToolbelt/1.0&#39;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">apiKey</span><span class="p">:</span>
        <span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Argus-API-Key&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">apiKey</span>
    <span class="k">elif</span> <span class="n">authentication</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">authentication</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">authentication</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">callable</span><span class="p">(</span><span class="n">authentication</span><span class="p">):</span>
        <span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">authentication</span><span class="p">(</span><span class="n">url</span><span class="p">))</span>

    <span class="n">body</span> <span class="o">=</span> <span class="p">{}</span>
    

    <span class="n">response</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="n">verify</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

    <span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">401</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">http</span><span class="o">.</span><span class="n">AuthenticationFailedException</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">403</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">http</span><span class="o">.</span><span class="n">AccessDeniedException</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">412</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">http</span><span class="o">.</span><span class="n">ValidationErrorException</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">http</span><span class="o">.</span><span class="n">ObjectNotFoundException</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="k">if</span> <span class="n">json</span> <span class="k">else</span> <span class="n">response</span></div>

<div class="viewcode-block" id="get_task"><a class="viewcode-back" href="../../../../../../api/api.system.components.runtime.v1.html#api.system.components.runtime.v1.task.get_task">[docs]</a><span class="nd">@register_command</span><span class="p">(</span><span class="n">extending</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;system&#39;</span><span class="p">,</span><span class="s1">&#39;components&#39;</span><span class="p">,</span><span class="s1">&#39;runtime&#39;</span><span class="p">,</span><span class="s1">&#39;v1&#39;</span><span class="p">,</span><span class="s1">&#39;task&#39;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">get_task</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span><span class="n">json</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">verify</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">apiKey</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">authentication</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{})</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Fetch specified task (INTERNAL)</span>

<span class="sd">    </span>

<span class="sd">    :param str id: ID of task to fetch</span>
<span class="sd">    :raises AuthenticationFailedException: on 401</span>
<span class="sd">    :raises AccessDeniedException: on 403</span>
<span class="sd">    :raises ObjectNotFoundException: on 404</span>
<span class="sd">    :returns: {&quot;offset&quot;: 445, &quot;limit&quot;: 439, &quot;responseCode&quot;: 200, &quot;count&quot;: 282, &quot;metaData&quot;: {&quot;additionalProperties&quot;: {}}, &quot;messages&quot;: [{&quot;message&quot;: &quot;Blue woman low Mrs vote modern good sort.&quot;, &quot;messageTemplate&quot;: &quot;Mr effect play during style necessary sort.&quot;, &quot;field&quot;: &quot;Wife off middle opportunity toward light allow field.&quot;, &quot;parameter&quot;: {}, &quot;timestamp&quot;: 907117553}], &quot;currentPage&quot;: 202, &quot;size&quot;: 149} </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">requests</span> <span class="k">import</span> <span class="n">get</span>
    <span class="kn">from</span> <span class="nn">argus_api.exceptions</span> <span class="k">import</span> <span class="n">http</span>

    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://osl-argus-trunk-web1.mnemonic.no/web/api/system/components/runtime/v1/task/</span><span class="si">{id}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">)</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
        <span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;ArgusToolbelt/1.0&#39;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">apiKey</span><span class="p">:</span>
        <span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Argus-API-Key&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">apiKey</span>
    <span class="k">elif</span> <span class="n">authentication</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">authentication</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">authentication</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">callable</span><span class="p">(</span><span class="n">authentication</span><span class="p">):</span>
        <span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">authentication</span><span class="p">(</span><span class="n">url</span><span class="p">))</span>

    <span class="n">body</span> <span class="o">=</span> <span class="p">{}</span>
    

    <span class="n">response</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="n">verify</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

    <span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">401</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">http</span><span class="o">.</span><span class="n">AuthenticationFailedException</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">403</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">http</span><span class="o">.</span><span class="n">AccessDeniedException</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">412</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">http</span><span class="o">.</span><span class="n">ValidationErrorException</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">http</span><span class="o">.</span><span class="n">ObjectNotFoundException</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="k">if</span> <span class="n">json</span> <span class="k">else</span> <span class="n">response</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, mnemonic.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.7</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>