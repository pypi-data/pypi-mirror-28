{% extends '_base.html' %}

{% block body %}
    <div id="wrapper">
        <!-- Navigation -->
        {% include '_navigation.html' %}
        <!-- Page Wrapper -->
        <div id="page-wrapper" class="gray-bg">
            <div class="row border-bottom">
                <nav class="navbar navbar-static-top" role="navigation" style="margin-bottom: 0">
                    <div class="navbar-header">
                        <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>
                    </div>
                    <ul class="nav navbar-top-links navbar-right">
                        <li>
                            <a href="{{ url_for('security.logout') }}">
                                <i class="fa fa-sign-out"></i> Log out
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
            <div class="row wrapper border-bottom white-bg dashboard-header">
                <div class="col-lg-10">
                    {% block page_heading %}
                    <!-- Page Heading Here -->
                    {% endblock %}
                    <ol class="breadcrumb">
                        <li>
                            <a href="{{ url_for('site.index') }}">Home</a>
                        </li>
                        <li class="active">
                            <strong>
                                {% block page_name %}
                                <!-- Page Name goes here -->
                                {% endblock %}
                            </strong>
                        </li>
                    </ol>
                </div>
            </div>
            <!-- Main Content -->
            <div class="row">
                <div class="col-lg-12">
                    <div class="wrapper wrapper-content">
                        {% block page_content %}
                            <!-- Page content goes here -->
                        {% endblock %}
                    </div>
                </div>
                {% block footer %}
                    {% include '_footer.html' %}
                {% endblock %}
            </div>
        </div>
        {% block page_js %}
            {{ super() }}
            <script>
                $(document).ready(function() {
                    var csrf_token = "{{ csrf_token() }}";

                    $('#side-menu').metisMenu({
                        toggle: true,
                        activeClass: 'active'
                    });

                    $.ajaxSetup({
                        beforeSend: function(xhr, settings) {
                            if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {
                                xhr.setRequestHeader("X-CSRFToken", csrf_token);
                            }
                        }
                    });

                    toastr.options = {
                        "closeButton": true,
                        "debug": false,
                        "newestOnTop": true,
                        "progressBar": false,
                        "positionClass": "toast-top-right",
                        "preventDuplicates": true,
                        "onclick": null,
                        "showDuration": "300",
                        "hideDuration": "1000",
                        "timeOut": "5000",
                        "extendedTimeOut": "1000",
                        "showEasing": "swing",
                        "hideEasing": "linear",
                        "showMethod": "fadeIn",
                        "hideMethod": "fadeOut"
                    };
                });
            </script>
        {% endblock %}
    </div>
{% endblock %}
