

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Base view classes &mdash; django-registration 2.3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="django-registration 2.3 documentation" href="index.html"/>
        <link rel="next" title="Base form classes" href="forms.html"/>
        <link rel="prev" title="The model-based activation workflow" href="model-workflow.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> django-registration
          

          
          </a>

          
            
            
              <div class="version">
                2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation and configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick start guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Built-in registration workflows</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hmac.html">The HMAC activation workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="one-step-workflow.html">The one-step workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="model-workflow.html">The model-based activation workflow</a></li>
</ul>
<p class="caption"><span class="caption-text">For developers</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Base view classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="forms.html">Base form classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom-user.html">Custom user models</a></li>
<li class="toctree-l1"><a class="reference internal" href="validators.html">Validation utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Custom settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="signals.html">Signals used by django-registration</a></li>
</ul>
<p class="caption"><span class="caption-text">Other documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="upgrade.html">Upgrading from previous versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently-asked questions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">django-registration</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Base view classes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/views.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-registration.views"><span id="views"></span></span><div class="section" id="base-view-classes">
<h1>Base view classes<a class="headerlink" href="#base-view-classes" title="Permalink to this headline">¶</a></h1>
<p>In order to allow the utmost flexibility in customizing and supporting
different workflows, django-registration makes use of Django’s
support for <a class="reference external" href="https://docs.djangoproject.com/en/stable/topics/class-based-views/">class-based views</a>. Included
in django-registration are two base classes which can be
subclassed to implement whatever workflow is required.</p>
<p>The built-in workflows in django-registration provide their own
subclasses of these views, and the documentation for those workflows
will indicate customization points specific to those subclasses. The
following reference covers useful attributes and methods of the base
classes, for use in writing your own custom subclasses.</p>
<dl class="class">
<dt id="registration.views.RegistrationView">
<em class="property">class </em><code class="descclassname">registration.views.</code><code class="descname">RegistrationView</code><a class="headerlink" href="#registration.views.RegistrationView" title="Permalink to this definition">¶</a></dt>
<dd><p>A subclass of Django’s <a class="reference external" href="https://docs.djangoproject.com/en/stable/ref/class-based-views/generic-editing/#formview">FormView</a>,
which provides the infrastructure for supporting user registration.</p>
<p>Since it’s a subclass of <code class="docutils literal"><span class="pre">FormView</span></code>, <code class="docutils literal"><span class="pre">RegistrationView</span></code> has all
the usual attributes and methods you can override.</p>
<p>When writing your own subclass, one method is required:</p>
<dl class="method">
<dt id="registration.views.RegistrationView.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>form</em><span class="sig-paren">)</span><a class="headerlink" href="#registration.views.RegistrationView.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement your registration logic here. <code class="docutils literal"><span class="pre">form</span></code> will be the
(already-validated) form filled out by the user during the
registration process (i.e., a valid instance of
<a class="reference internal" href="forms.html#registration.forms.RegistrationForm" title="registration.forms.RegistrationForm"><code class="xref py py-class docutils literal"><span class="pre">registration.forms.RegistrationForm</span></code></a> or a subclass of
it).</p>
<p>This method should return the newly-registered user instance,
and should send the signal
<a class="reference internal" href="signals.html#registration.signals.user_registered" title="registration.signals.user_registered"><code class="xref py py-data docutils literal"><span class="pre">registration.signals.user_registered</span></code></a>. Note that this is
not automatically done for you when writing your own custom
subclass, so you must send this signal manually.</p>
</dd></dl>

<p>Useful optional places to override or customize on a
<code class="docutils literal"><span class="pre">RegistrationView</span></code> subclass are:</p>
<dl class="attribute">
<dt id="registration.views.RegistrationView.disallowed_url">
<code class="descname">disallowed_url</code><a class="headerlink" href="#registration.views.RegistrationView.disallowed_url" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL to redirect to when registration is disallowed. Should
be a <a class="reference external" href="https://docs.djangoproject.com/en/stable/topics/http/urls/#naming-url-patterns">string name of a URL pattern</a>.
Default value is <code class="docutils literal"><span class="pre">&quot;registration_disallowed&quot;</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="registration.views.RegistrationView.form_class">
<code class="descname">form_class</code><a class="headerlink" href="#registration.views.RegistrationView.form_class" title="Permalink to this definition">¶</a></dt>
<dd><p>The form class to use for user registration. Can be overridden
on a per-request basis (see below). Should be the actual class
object; by default, this class is
<a class="reference internal" href="forms.html#registration.forms.RegistrationForm" title="registration.forms.RegistrationForm"><code class="xref py py-class docutils literal"><span class="pre">registration.forms.RegistrationForm</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="registration.views.RegistrationView.success_url">
<code class="descname">success_url</code><a class="headerlink" href="#registration.views.RegistrationView.success_url" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL to redirect to after successful registration.  A string
containing a (relative) URL, or a string name of a URL pattern,
or a 3-tuple of arguments suitable for passing to Django’s
<a class="reference external" href="https://docs.djangoproject.com/en/stable/topics/http/shortcuts/#redirect">redirect shortcut</a>. Can
be overridden on a per-request basis (see below). Default value
is <code class="docutils literal"><span class="pre">None</span></code>, so that per-request customization is used instead.</p>
</dd></dl>

<dl class="attribute">
<dt id="registration.views.RegistrationView.template_name">
<code class="descname">template_name</code><a class="headerlink" href="#registration.views.RegistrationView.template_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The template to use for user registration. Should be a
string. Default value is
<code class="docutils literal"><span class="pre">registration/registration_form.html</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="registration.views.RegistrationView.get_form_class">
<code class="descname">get_form_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#registration.views.RegistrationView.get_form_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Select a form class to use on a per-request basis. If not
overridden, will use <a class="reference internal" href="#registration.views.RegistrationView.form_class" title="registration.views.RegistrationView.form_class"><code class="xref py py-attr docutils literal"><span class="pre">form_class</span></code></a>. Should be the actual
class object.</p>
</dd></dl>

<dl class="method">
<dt id="registration.views.RegistrationView.get_success_url">
<code class="descname">get_success_url</code><span class="sig-paren">(</span><em>user</em><span class="sig-paren">)</span><a class="headerlink" href="#registration.views.RegistrationView.get_success_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a URL to redirect to after successful registration, on a
per-request or per-user basis. If not overridden, will use
<a class="reference internal" href="#registration.views.RegistrationView.success_url" title="registration.views.RegistrationView.success_url"><code class="xref py py-attr docutils literal"><span class="pre">success_url</span></code></a>. Should return a string containing a
(relative) URL, or a string name of a URL pattern, or a 3-tuple
of arguments suitable for passing to Django’s <code class="docutils literal"><span class="pre">redirect</span></code>
shortcut.</p>
</dd></dl>

<dl class="method">
<dt id="registration.views.RegistrationView.registration_allowed">
<code class="descname">registration_allowed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#registration.views.RegistrationView.registration_allowed" title="Permalink to this definition">¶</a></dt>
<dd><p>Should return a boolean indicating whether user registration is
allowed, either in general or for this specific request. Default
value is the value of the setting
<a class="reference internal" href="settings.html#django.conf.settings.REGISTRATION_OPEN" title="django.conf.settings.REGISTRATION_OPEN"><code class="xref py py-data docutils literal"><span class="pre">REGISTRATION_OPEN</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="registration.views.ActivationView">
<em class="property">class </em><code class="descclassname">registration.views.</code><code class="descname">ActivationView</code><a class="headerlink" href="#registration.views.ActivationView" title="Permalink to this definition">¶</a></dt>
<dd><p>A subclass of Django’s <a class="reference external" href="https://docs.djangoproject.com/en/stable/ref/class-based-views/base/#templateview">TemplateView</a>
which provides support for a separate account-activation step, in
workflows which require that.</p>
<p>One method is required:</p>
<dl class="method">
<dt id="registration.views.ActivationView.activate">
<code class="descname">activate</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#registration.views.ActivationView.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement your activation logic here. You are free to configure
your URL patterns to pass any set of positional or keyword
arguments to <code class="docutils literal"><span class="pre">ActivationView</span></code>, and they will in turn be passed
to this method.</p>
<p>This method should return the newly-activated user instance (if
activation was successful), or boolean <code class="docutils literal"><span class="pre">False</span></code> if activation
was not successful.</p>
</dd></dl>

<p>Useful places to override or customize on an <code class="docutils literal"><span class="pre">ActivationView</span></code>
subclass are:</p>
<dl class="attribute">
<dt id="registration.views.ActivationView.success_url">
<code class="descname">success_url</code><a class="headerlink" href="#registration.views.ActivationView.success_url" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL to redirect to after successful activation.  A string
containing a (relative) URL, or a string name of a URL pattern,
or a 3-tuple of arguments suitable for passing to Django’s
<a class="reference external" href="https://docs.djangoproject.com/en/stable/topics/http/shortcuts/#redirect">redirect shortcut</a>. Can
be overridden on a per-request basis (see below). Default value
is <code class="docutils literal"><span class="pre">None</span></code>, so that per-request customization is used instead.</p>
</dd></dl>

<dl class="attribute">
<dt id="registration.views.ActivationView.template_name">
<code class="descname">template_name</code><a class="headerlink" href="#registration.views.ActivationView.template_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The template to use for user activation. Should be a
string. Default value is <code class="docutils literal"><span class="pre">registration/activate.html</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="registration.views.ActivationView.get_success_url">
<code class="descname">get_success_url</code><span class="sig-paren">(</span><em>user</em><span class="sig-paren">)</span><a class="headerlink" href="#registration.views.ActivationView.get_success_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a URL to redirect to after successful registration, on a
per-request or per-user basis. If not overridden, will use
<a class="reference internal" href="#registration.views.ActivationView.success_url" title="registration.views.ActivationView.success_url"><code class="xref py py-attr docutils literal"><span class="pre">success_url</span></code></a>. Should return a string containing a
(relative) URL, or a string name of a URL pattern, or a 3-tuple
of arguments suitable for passing to Django’s <code class="docutils literal"><span class="pre">redirect</span></code>
shortcut.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="forms.html" class="btn btn-neutral float-right" title="Base form classes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="model-workflow.html" class="btn btn-neutral" title="The model-based activation workflow" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2007-2016, James Bennett.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>