Metadata-Version: 2.0
Name: devpi-postgresql
Version: 0.2.0
Summary: devpi-postgresql: a PostgreSQL storage backend for devpi-server
Home-page: http://doc.devpi.net
Author: Florian Schulze, Holger Krekel
Author-email: florian.schulze@gmx.net
License: MIT
Description-Content-Type: UNKNOWN
Platform: UNKNOWN
Classifier: Development Status :: 4 - Beta
Classifier: Environment :: Web Environment
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: System Administrators
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python
Classifier: Topic :: Internet :: WWW/HTTP
Classifier: Programming Language :: Python :: Implementation :: PyPy
Classifier: Topic :: Internet :: WWW/HTTP :: WSGI :: Application
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: 3.3
Requires-Dist: devpi-server (>=3.0.0.dev2)
Requires-Dist: pg8000

===============================================================
devpi-postgresql: a PostgreSQL storage backend for devpi-server
===============================================================

.. warning::
    This plugin is considered experimental!

This plugin adds a PostgreSQL storage backend for `devpi-server`_.

.. _devpi-server: http://pypi.python.org/pypi/devpi-server


Installation
============

``devpi-postgresql`` needs to be installed alongside ``devpi-server``.

You can install it with::

    pip install devpi-postgresql


Usage
=====

When using the PostgreSQL storage, ``devpi-server`` expects an empty database.
You have to create one like this: ``createdb devpi``
Depending on your PostgreSQL setup you have to create a user and grant it permissions on the new database like this::

    CREATE ROLE devpi WITH LOGIN;
    GRANT CREATE, CONNECT ON DATABASE devpi TO devpi;

Upon first initialization of ``devpi-server`` use ``--storage pg8000`` to select the PostgreSQL backend.

By default it'll use the ``devpi`` database on ``localhost`` port ``5432``.
To change that, use ``storage pg8000:host=example.com,port=5433,database=devpi_prod``.
The possible settings are: ``database``, ``host``, ``port``, ``unix_sock``, ``user`` and ``password``

All user/index files and metadata of ``devpi-server`` are stored in the database.
A few things and settings are still stored as files in the directory specified by ``--serverdir``.

Plugins like ``devpi-web`` don't or can't use the storage backend.
They still handle their own storage.


=========
Changelog
=========



.. towncrier release notes start

0.2.0 (2018-01-17)
==================

Bug Fixes
---------

- Use advisory locks to serialize writes.


0.1.1 (2017-12-12)
==================

- Add ``unix_sock``, ``user`` and ``password`` to possible connection options.
  Thanks to Szabolcs Rumi for the patch.


0.1.0 (2016-02-11)
==================

- initial release

