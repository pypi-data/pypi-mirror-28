webpackJsonp([2],{245:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(830),n=a.n(s),r=a(836),i=a.n(r),o=a(1),l=!1,c=null,d=null,u=null,p=o(n.a,i.a,l,c,d,u);e.default=p.exports},830:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(831),r=s(n);e.default={components:{expandRow:r.default},data:function(){var t=this;return{columns:[{type:"expand",width:50,render:function(t,e){return t(r.default,{props:{row:e.row}})}},{title:"ID",key:"id",width:150,render:function(t,e){return t("router-link",{props:{to:{name:"instance_detail",params:{id:e.row.id}}}},e.row.id)}},{title:"模板名称",key:"name"},{title:"总任务",key:"total_task_num",width:80},{title:"任务池",key:"pending_task_num",width:80},{title:"正在运行",key:"running_task_num",width:90},{title:"成功",key:"success_task_num",width:80},{title:"失败",key:"error_task_num",width:80},{title:"开始时间",key:"start_at",width:120},{title:"状态",key:"status",render:function(e,a){var s=a.row.status;return"正常完成"===s||"手动停止"==s?e("Tag",{props:{type:"border"}},s):"正在运行"===s?e("Tag",{props:{color:"green",type:"border",closable:""},on:{"on-close":function(){t.stopInstance(a.row.id)}}},"正在运行"):e("Tag",{props:{color:"yellow",type:"border"}},s)}}],instances:[],running_instances:[],error_instances:[],stopped_instances:[],finished_instances:[]}},methods:{fetchInstances:function(){var t=this;this.$axios.get("/instance/list").then(function(e){0==e.data.error_code?(t.instances=e.data.instances,t.running_instances=e.data.running_instances,t.error_instances=e.data.error_instances,t.stopped_instances=e.data.stopped_instances,t.finished_instances=e.data.finished_instances):alert(e.data.error_msg)})},stopInstance:function(t){var e=this;this.$axios.get("/instance/stop",{params:{id:t}}).then(function(t){0==t.data.error_code?e.fetchInstances():alert(t.data.error_msg)})}},created:function(){this.fetchInstances()}}},831:function(t,e,a){"use strict";function s(t){a(832)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(834),r=a.n(n),i=a(835),o=a.n(i),l=a(1),c=!1,d=s,u=null,p=null,_=l(r.a,o.a,c,d,u,p);e.default=_.exports},832:function(t,e,a){var s=a(833);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(17)("772841ea",s,!0)},833:function(t,e,a){e=t.exports=a(16)(void 0),e.push([t.i,".expand-row{margin-bottom:16px}",""])},834:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{row:Object}}},835:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",[a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[t._v("开始：")]),t._v(" "),a("span",{staticClass:"expand-value"},[t._v(t._s(t.row.start_at))])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[t._v("结束：")]),t._v(" "),a("span",{staticClass:"expand-value"})]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[t._v("运行时长：")]),t._v(" "),a("span",{staticClass:"expand-value"},[t._v(t._s())])])],1),t._v(" "),a("Row",{staticClass:"expand-row"},[a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[t._v("进程： ")]),t._v(" "),a("span",{staticClass:"expand-value"},[t._v(t._s(t.row.process.id))])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[t._v("进程状态：")]),t._v(" "),a("span",{staticClass:"expand-value"},[t._v("dead or alive")])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[t._v("Birthday: ")]),t._v(" "),a("span",{staticClass:"expand-value"},[t._v(t._s())])])],1)],1)},n=[],r={render:s,staticRenderFns:n};e.default=r},836:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Card",[a("Row",[a("Col",{attrs:{span:"24"}},[a("Tabs",{attrs:{animated:!1}},[a("TabPane",{attrs:{label:"全部实例"}},[a("Table",{attrs:{stripe:"",border:"",columns:t.columns,data:t.instances}})],1),t._v(" "),a("TabPane",{attrs:{label:"正在运行"}},[a("Table",{attrs:{stripe:"",border:"",columns:t.columns,data:t.running_instances}})],1),t._v(" "),a("TabPane",{attrs:{label:"异常停止"}},[a("Table",{attrs:{stripe:"",border:"",columns:t.columns,data:t.error_instances}})],1),t._v(" "),a("TabPane",{attrs:{label:"手动停止"}},[a("Table",{attrs:{stripe:"",border:"",columns:t.columns,data:t.stopped_instances}})],1),t._v(" "),a("TabPane",{attrs:{label:"正常完成"}},[a("Table",{attrs:{stripe:"",border:"",columns:t.columns,data:t.finished_instances}})],1),t._v(" "),a("Button",{attrs:{slot:"extra",type:"ghost",size:"small"},on:{click:t.fetchInstances},slot:"extra"},[t._v("刷新")])],1)],1)],1)],1)],1)},n=[],r={render:s,staticRenderFns:n};e.default=r}});