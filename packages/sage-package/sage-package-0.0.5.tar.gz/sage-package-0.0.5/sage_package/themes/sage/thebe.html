<!-- Thebe configuration for live code cells (https://github.com/minrk/thebelab)
  This sets up a dedicated button in the top right corner. When
  clicked, each code block containing a sage: prompt is appended a
  "Run" button to execute the code on a Sage Jupyter kernel
  provided by mybinder (https://mybinder.org).
  !-->
<script type="text/x-thebe-config">
  thebeConfig = {
    binderOptions: {
      repo: "sagemath/sage-binder-env",
    },
    stripPrompts: {
      inPrompt: 'sage: ',
      continuationPrompt: '....: ',
      selector: 'pre:contains("sage: ")',
    },
    kernelOptions: {
      name: "sagemath",
    },
    requestKernel: true
  }
</script>

<!-- Load the Thebe activation and status field library  !-->
<script src="{{ pathto('_static/thebe_status_field.js', 1) }}" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="{{ pathto('_static/thebe_status_field.css', 1) }}"/>

<!-- Test whether some code cell contains Sage code
     If yes, setup the ThebeLab activation and status field !-->
<script>
  $(function() {
      var cellSelector = "pre:contains('sage: ')";
      if ($(cellSelector).length > 0) {
         $('<div class="thebe_status_field" style="position: fixed; right:0;"></div>')
            .prependTo('div.body');
         thebe_place_activate_button();
      }
  });
</script>
