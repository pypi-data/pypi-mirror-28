# Conda configuration file for mapdamage2
#
# Generated by pytest_ngsfixtures_add_application.py,
# version 0.4.0+2.g9c06f0e
#
# Application output is output to directories named according to
# version number ({version} format label) and possibly to
# subdirectories named after sequencing configuration, either paired
# end (pe) or single end (pe) ({end} format label)
#
# Applications are run from snakemake with the --use-conda option.
# This will generate a separate conda environment for each version.
# Conda environment files are generated on the fly, listing
# mapdamage2 as the sole dependency. In some cases additional
# depencies are required. Add these to the _conda_dependencies parameter
# below.
#
# The snakemake clean rule is defined in ../fileutils.sm. The _clean
# parameter lists additional file patterns targetted for removal.
#
# Finally, some subcommands aren't available for all versions of an
# application. It is possible to override the global _versions by
# adding _versions below the subcommand in question.
#
#
# TODO:
#
# 1. Set default version to the latest version number in case the
# proposed version is wrong
#
# 2. For each rule added to Snakefile, add a corresponding entry below
# with the format of the output file name.
#


#
# NB: the r-gam dependency is build with conda < 2.0 which causes its
# installation to fail if the path is >80 characters long
#

mapdamage2:
  _default: '2.0.6'
  _versions: ['2.0.6']
  _conda_versions: ['2.0.6']
  _conda_dependencies: ['r-inline', 'r-gam', 'r-rcppgsl'] # NB: r-gam built with conda-build < 2.0
  _clean: ['*.pdf'] # Add clean file pattern here

  mapdamage2_mapDamage:
    output:
      log: "{version}/{end}/Runtime_log.txt"
      3pgtoa: "{version}/{end}/3pGtoA_freq.txt"
      5pctot: "{version}/{end}/5pCtoT_freq.txt"
      dnacomp: "{version}/{end}/dnacomp.txt"
      lgdist: "{version}/{end}/lgdistribution.txt"
      misincorp: "{version}/{end}/misincorporation.txt"
      mcmc_prob: "{version}/{end}/Stats_out_MCMC_correct_prob.csv"
      mcmc_iter: "{version}/{end}/Stats_out_MCMC_iter.csv"
      mcmc_iter_stat: "{version}/{end}/Stats_out_MCMC_iter_summ_stat.csv"
      dnacomp_genome: "{version}/{end}/dnacomp_genome.csv"
    _versions: ['2.0.6']

